<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Eyes – iris_new.json – 1770892403</title>
<style>
html,body{
  height:100%;
  margin:0;
  background:#0b0c10;
  display:grid;
  place-items:center;
}
.row{display:flex;gap:40px;}
.eye{
  position:relative;
  width:240px;
  height:240px;
}
.lottie-eye,.iris-wrap{
  position:absolute;
  inset:0;
  pointer-events:none;
}
.iris-wrap{
  display:grid;
  place-items:center;
  will-change:transform;
}
.lottie-iris{
  width:100%;
  height:100%;
}
</style>
</head>
<body>

<div class="row">
  <div class="eye" data-eye>
    <div class="lottie-eye"></div>
    <div class="iris-wrap"><div class="lottie-iris"></div></div>
  </div>
  <div class="eye" data-eye>
    <div class="lottie-eye"></div>
    <div class="iris-wrap"><div class="lottie-iris"></div></div>
  </div>
</div>

<script src="https://unpkg.com/lottie-web@5.12.2/build/player/lottie.min.js?cache=1770892403"></script>

<script>
const EYE_ANIM = {"v":"5.12.1","fr":25,"ip":0,"op":250,"w":300,"h":300,"nm":"eye","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[150,150,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[60.826,0],[34.991,-44.289],[-60.826,0],[-34.991,44.289]],"o":[[-60.826,0],[34.991,44.289],[60.826,0],[-34.991,-44.289]],"v":[[0,-72.715],[-150,0],[0,72.715],[150,0]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0.951461253447,0.951461253447,0.951461253447,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"ct":1,"bm":0}],"markers":[],"props":{}};
const IRIS_ANIM = {"v":"5.12.1","fr":25,"ip":0,"op":250,"w":300,"h":300,"nm":"Iris","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"Shape Layer 1","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[150,150,0],"ix":2,"l":2},"a":{"a":0,"k":[0,0,0],"ix":1,"l":2},"s":{"a":0,"k":[100,100,100],"ix":6,"l":2}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,-21.623],[21.622,0],[0,21.623],[-21.623,0]],"o":[[0,21.623],[-21.623,0],[0,-21.623],[21.622,0]],"v":[[39.151,0],[0,39.151],[-39.151,0],[0,-39.151]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[0,0],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Shape 1","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":250,"st":0,"ct":1,"bm":0}],"markers":[],"props":{}};

function clamp(n,min,max){return Math.max(min,Math.min(max,n));}

function initEye(el){
  const eyeLayer = el.querySelector(".lottie-eye");
  const irisLayer = el.querySelector(".lottie-iris");
  const irisWrap = el.querySelector(".iris-wrap");

  lottie.loadAnimation({
    container:eyeLayer,
    renderer:"svg",
    loop:true,
    autoplay:true,
    animationData:EYE_ANIM
  });

  lottie.loadAnimation({
    container:irisLayer,
    renderer:"svg",
    loop:true,
    autoplay:true,
    animationData:IRIS_ANIM
  });

  const maxTravel = 30;

  return function(x,y){
    const r = el.getBoundingClientRect();
    const cx = r.left + r.width/2;
    const cy = r.top + r.height/2;

    const dx = x - cx;
    const dy = y - cy;

    const nx = dx/(r.width/2);
    const ny = dy/(r.height/2);

    const len = Math.hypot(nx,ny) || 1;
    const ux = nx/Math.max(1,len);
    const uy = ny/Math.max(1,len);

    const tx = clamp(ux,-1,1)*maxTravel;
    const ty = clamp(uy,-1,1)*maxTravel;

    irisWrap.style.transform = "translate("+tx+"px,"+ty+"px)";
  }
}

const updaters = Array.from(document.querySelectorAll("[data-eye]")).map(initEye);

function handle(e){
  const p = e.touches ? e.touches[0] : e;
  updaters.forEach(fn=>fn(p.clientX,p.clientY));
}

window.addEventListener("mousemove",handle);
window.addEventListener("touchmove",handle);

updaters.forEach(fn=>fn(window.innerWidth/2,window.innerHeight/2));
</script>

</body>
</html>
